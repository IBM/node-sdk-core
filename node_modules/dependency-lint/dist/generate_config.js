(function() {
  var Promise, coroutine, fs, generateConfig, packageJson, path, readFile, writeFile;

  fs = require('fs');

  packageJson = require('../package.json');

  path = require('path');

  Promise = require('bluebird');

  coroutine = Promise.coroutine;

  readFile = Promise.promisify(fs.readFile);

  writeFile = Promise.promisify(fs.writeFile);

  generateConfig = coroutine(function*() {
    var defaultConfig, dest, fileContents, src;
    src = path.join(__dirname, '..', 'config', 'default.yml');
    dest = path.join(process.cwd(), 'dependency-lint.yml');
    defaultConfig = (yield readFile(src, 'utf8'));
    fileContents = "# See " + packageJson.homepage + "/blob/v" + packageJson.version + "/docs/configuration.md\n# for a detailed explanation of the options\n\n" + defaultConfig;
    (yield writeFile(dest, fileContents));
    return console.log('Configuration file generated at "dependency-lint.yml"');
  });

  module.exports = generateConfig;

}).call(this);
