(function() {
  var ModuleNameParser, builtIns, globalExecutables,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  builtIns = require('builtin-modules');

  globalExecutables = ['npm'];

  ModuleNameParser = {
    isBuiltIn: function(name) {
      return indexOf.call(builtIns, name) >= 0;
    },
    isGlobalExecutable: function(name) {
      return indexOf.call(globalExecutables, name) >= 0;
    },
    isRelative: function(name) {
      return name[0] === '.';
    },
    stripLoaders: function(name) {
      var ref;
      ref = name.split('!'), name = ref[ref.length - 1];
      return name;
    },
    stripSubpath: function(name) {
      var parts;
      parts = name.split('/');
      if (name[0] === '@') {
        return parts.slice(0, 2).join('/');
      } else {
        return parts[0];
      }
    }
  };

  module.exports = ModuleNameParser;

}).call(this);
